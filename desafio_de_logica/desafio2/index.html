<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Cartão de respostas</title>
</head>

<body>
    <header>
        <h1>Cartão de Respostas</h1>
    </header>
    <main>
        <table>
            <thead>
                <th>Questão</th>
                <th>A</th>
                <th>B</th>
                <th>C</th>
                <th>D</th>
                <th>E</th>
                <th>Status</th>
            </thead>
            <tbody id="dados"></tbody>
        </table>
        <button onclick="verificar()">Calcular</button>
    </main>
    <footer>
        <div>
            <label for="acertos">Acertos</label>
            <input type="number" name="acertos" id="acertos" value="0">
            <label for="erros">Acertos</label>
            <input type="number" name="erros" id="erros" value="0">
        </div>
        <div id="msg"></div>
    </footer>
</body>
<script>
    const form = document.querySelector("#add");
    const botoes = [];
    const gabarito = ['A', 'C', 'B', 'D', 'D', 'E', 'A', 'C', 'B', 'D'];
    const notas = [];
    const result = ['-', '-', '-', '-', '-', '-', '-', '-', '-', '-'];
    preencherRadios();
    preencherTabela();
    function msg(ms) {
        document.querySelector("#msg").innerHTML = ms;
        setTimeout(() => {
            document.querySelector("#msg").innerHTML = "";
        }, 1000);
    }
    function preencherRadios() {
        document.querySelector("#dados").innerHTML = "";
        for (i = 0; i < 10; i++) {
            botoes.push(
                {
                    "questao": i,
                    "A": `<input type="radio" name="q${i}" value="A">`,
                    "B": `<input type="radio" name="q${i}" value="B">`,
                    "C": `<input type="radio" name="q${i}" value="C">`,
                    "D": `<input type="radio" name="q${i}" value="D">`,
                    "E": `<input type="radio" name="q${i}" value="E">`
                }
            );
        }
    }
    function preencherTabela() {
        document.querySelector("#dados").innerHTML = "";
        botoes.forEach((e, i) => {
            const l = document.createElement("tr");
            l.innerHTML = `<td>${e.questao}</td><td>${e.A}</td><td>${e.B}</td><td>${e.C}</td><td>${e.D}</td><td>${e.E}</td><td>${result[i]}</td>`;
            document.querySelector("#dados").appendChild(l);
        });
    }
    function verificar() {
        let erros = 0;
        let acertos = 0;
        console.log(gabarito);
        for (i = 0; i < 10; i++) {
            notas.push(document.querySelector(`input[name='q${i}']:checked`).value);
            if (notas[i] == gabarito[i]) {
                result[i] = "V";
                acertos++;
            } else {
                result[i] = "X";
                erros++;
            }
        }
        preencherTabela();
        document.querySelector("#acertos").value = acertos;
        document.querySelector("#erros").value = erros;
    }
</script>

</html>